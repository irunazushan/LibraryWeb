DROP TABLE IF EXISTS person;

CREATE TABLE person (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    fullname varchar(100) NOT NULL UNIQUE,
    birth_date int CHECK (birth_date > 1900 AND birth_date < 2024) NOT NULL
);

DROP TABLE IF EXISTS book;
create table book (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name varchar NOT NULL,
    author varchar NOT NULL,
    year int,
    person_id int REFERENCES person(id),
    owned_time TIMESTAMP
);