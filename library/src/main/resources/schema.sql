drop table if exists person;

create table person (
    id int generated by default as identity primary key,
    fullname varchar not null unique,
    birth_date int check (birth_date > 1900 AND birth_date < 2024) not null
);

insert into person(fullname, birth_date)
values ('Алескей Михалыч', 1988);

select * from person;

drop table if exists book;
create table book (
    id int generated by default as identity primary key,
    name varchar not null,
    author varchar not null,
    year int
);

drop table if exists book_person;

create table book_person (
    book_id int references book(id) primary key,
    person_id int not null references person(id)
);