DROP TABLE IF EXISTS person;

CREATE TABLE person (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    fullname varchar(100) NOT NULL UNIQUE,
    birth_date int CHECK (birth_date > 1900 AND birth_date < 2024) NOT NULL
);

DROP TABLE IF EXISTS book;
create table book (
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name varchar NOT NULL,
    author varchar NOT NULL,
    year int,
    person_id int REFERENCES person(id)
);

/*
 Тайные виды на гору Фудзи, Владимир Пелевин, 2018
Бытие и время, Мартин Хейдеггер, 1927
Над пропастью во ржи, Джером Сэлинджер, 1951
Философия Java, Брюс Эккель, 2018
Псипатология обыденной жизни, Фрейд Зигмунд, 1904
День опричника, Владимир Сорокин, 2006
В дороге, Джек Керуак, 1951
Мастер и Маргарита, Михаил Булгаков, 1936
Маленький принц, Антуан Экзюпери, 1942
 */